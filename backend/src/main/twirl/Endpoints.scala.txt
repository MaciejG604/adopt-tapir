@(
starterDetails: com.softwaremill.adopttapir.starter.StarterDetails,
additionalImports: List[com.softwaremill.adopttapir.template.scala.Import],
helloEndpointServer: String,
metricsEndpoint: String,
docEndpoints: String,
jsonEndpoint: String,
library: String,
allEndpoints: String,
scalaVersion: com.softwaremill.adopttapir.starter.ScalaVersion,
leftBracket: Char = '{',
rightBracket: Char = '}'
)
package @{starterDetails.groupId}

import sttp.tapir.{PublicEndpoint, endpoint, query, stringBody}
@for(additionalImport <- additionalImports) {
@{additionalImport.asScalaImport(scalaVersion)}}

object Endpoints@if(scalaVersion == com.softwaremill.adopttapir.starter.ScalaVersion.Scala2){ @leftBracket}else{:}
  case class User(name: String) extends AnyVal
  val helloEndpoint: PublicEndpoint[User, Unit, String, Any] = endpoint.get
    .in("hello")
    .in(query[User]("name"))
    .out(stringBody)
@helloEndpointServer

@jsonEndpoint

@metricsEndpoint

@docEndpoints

@allEndpoints
@if(scalaVersion == com.softwaremill.adopttapir.starter.ScalaVersion.Scala2){@rightBracket}

@library
