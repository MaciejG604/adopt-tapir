@(
starterDetails: com.softwaremill.adopttapir.starter.StarterDetails,
additionalImports: List[com.softwaremill.adopttapir.template.scala.Import],
helloEndpointServer: String,
docEndpoints: String,
jsonEndpoint: String,
)
package @{starterDetails.groupId}

import sttp.tapir.{PublicEndpoint, endpoint, query, stringBody}
@for(additionalImport <- additionalImports) {
@{additionalImport.asScalaImport}}

object Endpoints {
  case class User(name: String) extends AnyVal

  val helloEndpoint: PublicEndpoint[User, Unit, String, Any] = endpoint.get
    .in("hello")
    .in(query[User]("name"))
    .out(stringBody)

@helloEndpointServer
@jsonEndpoint
@docEndpoints

  val all = List(helloServerEndpoint@if(jsonEndpoint.nonEmpty){, booksListingServerEndpoint}) @if(docEndpoints.nonEmpty){++ docEndpoints}
}
