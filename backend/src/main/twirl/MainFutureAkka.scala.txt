@(groupId: String)
package @groupId

import akka.actor.ActorSystem
import akka.http.scaladsl.Http
import sttp.tapir.server.akkahttp.AkkaHttpServerInterpreter

import scala.concurrent.ExecutionContext
import scala.io.StdIn

object Main {
  implicit val ec = ExecutionContext.global

  def main(args: Array[String]): Unit = {
    implicit val actorSystem: ActorSystem = ActorSystem()

    val route = AkkaHttpServerInterpreter().toRoute(List(ApiDefinitions.helloServerEndpoint))

    val bindingFuture = Http()
      .newServerAt("localhost", 8080)
      .bindFlow(route)

    StdIn.readLine()

    bindingFuture.flatMap(_.unbind()).onComplete(_ => actorSystem.terminate())
  }
}
