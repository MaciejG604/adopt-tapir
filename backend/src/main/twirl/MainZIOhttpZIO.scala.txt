@(
groupId: String,
addDocumentation: Boolean
)
package @groupId

import sttp.tapir.server.ziohttp.ZioHttpInterpreter
import zhttp.http.HttpApp
import zhttp.service.Server
import zio.{Scope, ZIO, ZIOAppArgs, ZIOAppDefault}

object Main extends ZIOAppDefault {

  override def run: ZIO[Any with ZIOAppArgs with Scope, Any, Any] = {
    val app: HttpApp[Any, Throwable] = ZioHttpInterpreter().toHttp(Endpoints.helloServerEndpoint@if(addDocumentation) { :: Endpoints.docEndpoints})

    Server.start(8080, app).exitCode
  }
}
